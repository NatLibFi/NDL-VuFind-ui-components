<?php
$showForm = isset($showSearchForm) && $showSearchForm;
?>

<div class="service-points <?= $wrapperClass ?? ''; ?>" data-organisation-id="<?= $preselectOrganisationId ?? ''; ?>">
  <?php if (isset($mapHeading)) : ?>
    <h2><?= $mapHeading; ?></h2>
  <?php endif; ?>
  <p class="consortium-notification hide"></p>
  <div class="service-points-control-bar">
    <div class="search-form-wrapper<?= !$showForm ? ' hide' : ''; ?>">
      <?= $this->render('components/molecules/forms/search/search.phtml', ['label' => $searchFormLabel, 'wrapperClass' => 'js-service-points-form', 'placeholder' => $searchFormPlaceholder ?? '']) ?>
      <p class="not-available-notification js-location-not-available hide"><?= $locationNotAvailableText; ?></p>
      <div class="js-autocomplete-container"></div>
    </div>
    <div class="map-controls">
      <button type="button" class="map-control-show btn btn-primary js-show-map"><?= $showMapButton; ?></button>
      <div class="map-controls-wrapper hide js-map-controls">
        <button type="button" class="map-control js-center"><?= $centerMapButton; ?></button>
        <button type="button" class="map-control js-show-all hide"><?= $showAllMarkersButton; ?></button>
      </div>
    </div>
  </div>
  <div class="map hide js-map-holder" aria-hidden="true">
    <div id="<?= $mapWrapperClass; ?>" class="map-widget <?= $mapWrapperClass; ?>"></div>
    <div class="js-marker-tooltip hide"></div>
  </div>
  <div class="service-point-info">
    <!-- Service point info goes here -->
  </div>
</div>
<template class="js-map-bubble">
  <div class="map-bubble">
    <h5 class="name js-name"></h5>
    <p class="js-address"></p>
  </div>
</template>
<template class="js-attribution">
  <i class="fa fa-map-marker marker open" aria-hidden="true"></i>
  <span class="map-marker-text"><?= $openText; ?></span>
  <i class="fa fa-map-marker marker closed" aria-hidden="true"></i>
  <span class="map-marker-text"><?= $closedText; ?></span>
  <i class="fa fa-map-marker marker no-schedule" aria-hidden="true"></i>
  <span class="map-marker-text"><?= $notAvailableText; ?></span>
  <span class="js-expand-map map-marker-text marker">
    <i class="fa fa-expand" aria-hidden="true"></i><?= $expandMapText; ?>
  </span>
  <span class="js-contract-map map-marker-text marker hide">
    <i class="fa fa-condense" aria-hidden=""></i>
    <?= $collapseMapText; ?>
  </span>
</template>
